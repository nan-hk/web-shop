{"ast":null,"code":"export default {\n  name: 'ShoppingCart',\n  computed: {\n    inCart() {\n      return this.$store.getters.inCart;\n    },\n    numInCart() {\n      return this.inCart.length;\n    },\n    total() {\n      return this.inCart.reduce((acc, cur) => acc + cur.price, 0);\n    },\n    isAuthenticated() {\n      return this.$store.state.user.isAuthenticated;\n    }\n  },\n  methods: {\n    removeFromCart(item) {\n      this.$store.commit('removeFromCart', item);\n    },\n    checkout() {\n      if (this.isAuthenticated) {\n        if (this.numInCart == 0) {\n          alert('Your cart is empty!');\n          return;\n        }\n      } else {\n        alert('Please login to checkout');\n        return;\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","computed","inCart","$store","getters","numInCart","length","total","reduce","acc","cur","price","isAuthenticated","state","user","methods","removeFromCart","item","commit","checkout","alert"],"sources":["/Users/nanhomkham/IdeaProjects/web-shop/src/components/views/ShoppingCart.vue"],"sourcesContent":["<template>\n  <div>\n    <button class=\"btn btn-primary navbar-btn\" data-toggle=\"modal\" data-target=\"#shoppingCart\">\n      <i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\n      ( {{ numInCart }} )\n    </button>\n    <div id=\"shoppingCart\" class=\"modal fade\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">\n              <i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\n              Shopping cart\n            </h5>\n            <button class=\"close\" data-dismiss=\"modal\">\n              &times;\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <table class=\"table\">\n              <tbody>\n              <tr v-for=\"(item,idx) in inCart\" :key=\"idx\">\n                <td>{{ item.title }}</td>\n                <td>${{ item.price }}</td>\n                <td>\n                  <button class=\"btn btn-sm btn-danger\" @click=\"removeFromCart(item)\">&times;</button>\n                </td>\n              </tr>\n              <tr>\n                <th></th>\n                <th>${{ total }}</th>\n                <th></th>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-secondary\" data-dismiss=\"modal\">Keep shopping</button>\n            <button class=\"btn btn-primary\" @click=\"checkout()\">Check out</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'ShoppingCart',\n  computed: {\n    inCart() {\n      return this.$store.getters.inCart;\n    },\n    numInCart() {\n      return this.inCart.length;\n    },\n    total() {\n      return this.inCart.reduce((acc, cur) => acc + cur.price, 0);\n    },\n    isAuthenticated() {\n      return this.$store.state.user.isAuthenticated;\n    },\n  },\n  methods: {\n    removeFromCart(item) {\n      this.$store.commit('removeFromCart', item);\n    },\n    checkout() {\n      if (this.isAuthenticated) {\n        if (this.numInCart == 0) {\n          alert('Your cart is empty!');\n          return\n        }\n      } else {\n        alert('Please login to checkout');\n        return\n      }\n    },\n  }\n};\n</script>"],"mappings":"AA8CA,eAAe;EACbA,IAAI,EAAE,cAAc;EACpBC,QAAQ,EAAE;IACRC,MAAMA,CAAA,EAAG;MACP,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACF,MAAM;IACnC,CAAC;IACDG,SAASA,CAAA,EAAG;MACV,OAAO,IAAI,CAACH,MAAM,CAACI,MAAM;IAC3B,CAAC;IACDC,KAAKA,CAAA,EAAG;MACN,OAAO,IAAI,CAACL,MAAM,CAACM,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAE,GAAIC,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;IAC7D,CAAC;IACDC,eAAeA,CAAA,EAAG;MAChB,OAAO,IAAI,CAACT,MAAM,CAACU,KAAK,CAACC,IAAI,CAACF,eAAe;IAC/C;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACd,MAAM,CAACe,MAAM,CAAC,gBAAgB,EAAED,IAAI,CAAC;IAC5C,CAAC;IACDE,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACP,eAAe,EAAE;QACxB,IAAI,IAAI,CAACP,SAAQ,IAAK,CAAC,EAAE;UACvBe,KAAK,CAAC,qBAAqB,CAAC;UAC5B;QACF;MACF,OAAO;QACLA,KAAK,CAAC,0BAA0B,CAAC;QACjC;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}